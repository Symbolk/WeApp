<!-- flower_container.wxml -->
<view class="container flower_container">
  <view class="flower-header-bg" background-size="contain" />
  <!-- 
    <block wx:if="{{flowerData.has_more == 0}}">
        <text class="has-nomore-data">{{defaultLoadContent}}</text>
    </block>
    <block wx:if="{{flowerData.user_info}}">
        <view class="fixed-my-container">
            <text class="fixed-my-index">我</text>
            <image class="fixed-my-portrait" src="{{flowerData.user_info.portrait}}"/>
            <view class="fixed-my-info">
                <text class="fixed-my-info-pos">{{flowerData.user_rank.rank_show}}</text>
                <text class="fixed-my-info-beat">{{flowerData.user_rank.beat_content}}</text>
            </view>
            <text class="fixed-my-flowernum">{{flowerData.user_rank.flower_num_show}}</text>
        </view>
    </block> -->
  <view class="flower-list-content">
    <view class="userinfo">
      <button size="mini" type="primary" wx:if="{{!hasUserInfo && canIUse}}" open-type="getUserInfo" bindgetuserinfo="getUserInfo"> 登陆授权 </button>
      <block wx:else>
        <image bindtap="bindViewTap" class="userinfo-avatar" src="{{userInfo.avatarUrl}}" background-size="cover"></image>
        <!--信息框-->
        <view class="info-item">
          <text class="info-text userinfo-title">王者粉丝:</text>
          <text class="info-text userinfo-nickname">{{userInfo.nickName}}</text>
          <view>
            <text class="info-text userinfo-favstar">守护明星:XXX</text>
          </view>
        </view>
      </block>
    </view>
    <!--滑动tab区域-->
    <view class="swiper-tab">
      <view class="swiper-tab-list {{currentTab==0 ? 'on' : ''}}" data-current="0" bindtap="swichNav">最热网红</view>
      <view class="swiper-tab-list {{currentTab==1 ? 'on' : ''}}" data-current="1" bindtap="swichNav">头牌明星</view>
      <view class="swiper-tab-list {{currentTab==2 ? 'on' : ''}}" data-current="2" bindtap="swichNav">贡献排行</view>
    </view>
    <swiper current="{{currentTab}}" class="swiper-box" duration="300" style="height:{{winHeight - 31}}px" bindchange="bindChange">

      <!--最热网红-->
      <swiper-item>
        <picker bindchange="bindPickerChange" value="{{categoryIndex}}" range="{{categories}}">
          <view class="picker">
            {{categories[categoryIndex]}}
            <image class="drop_down" src="images/drop_down.png" />
          </view>
        </picker>
        <view class="page">
          <view class="page__hd">
            <!-- <view class="page__title">赶快为你感兴趣的网红添加数据吧！</view> -->
            <view class="page__desc">赶快为你感兴趣的网红添加数据吧！</view>
          </view>
          <view class="page__bd page__bd_spacing">
            <view class="add_star">
              <button class="weui-btn" type="primary">添加网红</button>
            </view>
          </view>
        </view>
      </swiper-item>
      <!--头牌明星-->
      <swiper-item>
        <picker bindchange="bindPickerChange" value="{{categoryIndex}}" range="{{categories}}">
          <view class="picker">
            {{categories[categoryIndex]}}
            <image class="drop_down" src="images/drop_down.png" />
          </view>
        </picker>
        <!-- 前三名 -->
        <view class="top3-list">
          <block wx:for-items="{{top3Stars}}" wx:for-item="fitem" wx:key="fitem">

          <view wx:if="{{index == 0}}" class="rank-item">
            <text class="rank-item-pos" style="color:#FF4040;">1</text>
            <image class="rank-item-portrait" src="{{fitem.avatar}}" />
            <view class="rank-item-info">
              <text class="rank-item-info-name">{{fitem.starname}}</text>
              <text class="rank-item-flowernum">{{fitem.flowernum}}</text>
             </view> 
             <view> 
             <image data-name="{{fitem.starname}}" bindtap="flowerStar" class="iflove" src="images/love.png" />
            </view>
          </view>
          <view wx:if="{{index == 1}}" class="rank-item">
            <text class="rank-item-pos" style="color:#8470FF;">2</text>
            <image class="rank-item-portrait" src="{{fitem.avatar}}" />
            <view class="rank-item-info">
              <text class="rank-item-info-name">{{fitem.starname}}</text>
              <text class="rank-item-flowernum">{{fitem.flowernum}}</text>
            </view>
            <view>
              <image class="iflove" src="images/love.png" />
            </view>
          </view>
          <view wx:if="{{index == 2}}" class="rank-item">
            <text class="rank-item-pos" style="color:#707070">3</text>
            <image class="rank-item-portrait" src="{{fitem.avatar}}" />
            <view class="rank-item-info">
              <text class="rank-item-info-name">{{fitem.starname}}</text>
              <text class="rank-item-flowernum">{{fitem.flowernum}}</text>
            </view>
            <view>
              <image class="iflove" src="images/nolove.png" />
            </view>
          </view>
          </block>
        </view>
        <!-- 领奖台式排序 -->
        <!-- <view class="top-1">
             <view class="user-portrait-1" style="background: url({{userInfo.avatarUrl}}) no-repeat center center;background-size: cover;">
              <image class="user-rank-icon" src="images/img_reward_one.png" />
            </view>
            <view>
              <text class="user-name-1">迪丽热巴</text>
            </view>
            <text class="user-flowernum-1">1131</text> 
          </view>
          <view class="top-2">
             <view class="user-portrait-2" style="background: url({{userInfo.avatarUrl}}) no-repeat center center;background-size: cover;">
              <image class="user-rank-icon" src="images/img_reward_two.png" />
            </view>
            <view>
              <text class="user-name-1">迪丽热巴</text>
            </view>
            <text class="user-flowernum-1">1131</text> 
          </view>
          <view class="top-3">
          
            <view class="user-portrait-3" style="background: url({{userInfo.avatarUrl}}) no-repeat center center;background-size: cover;">
              <image class="user-rank-icon" src="images/img_reward_three.png" />
            </view>
            <view>
              <text class="user-name-1">迪丽热巴</text>
            </view>
            <text class="user-flowernum-1">1131</text>
          </view>
        </view> -->
        <!-- 其他排行 -->
        <view class="main-rank-list">
           <block wx:for-items="{{top3Stars}}" wx:for-item="mitem" wx:key="mitem"> 
          <view class="rank-item">
            <text class="rank-item-pos">{{index+4}}</text>
            <image class="rank-item-portrait" src="{{mitem.avatar}}" />
            <view class="rank-item-info">
              <text class="rank-item-info-name">{{mitem.starname}}</text>
              <text class="rank-item-flowernum">{{mitem.flowernum}}</text>
            </view>
            <view>
              <image class="iflove" src="images/love.png" />
            </view>
          </view>
          </block>
        </view>
      </swiper-item>
      <!--贡献排行-->
      <swiper-item>
        <view>Seside3</view>
      </swiper-item>
    </swiper>

  </view>

</view>